{"version":3,"sources":["../node_modules/peerjs/dist sync","components/Home.js","components/Join.js","components/Create.js","components/Editor.js","components/Video.js","App.js","reportWebVitals.js","index.js"],"names":["webpackEmptyContext","req","e","Error","code","keys","resolve","module","exports","id","Home","className","onClick","window","location","href","Join","useState","setId","htmlFor","type","onChange","target","value","Create","roomId","setRoomId","useEffect","uuidV4","Editor","myVideoStream","useParams","output","setOutput","input","setInput","setCode","socketRef","useRef","current","io","connect","emit","on","body","disconnect","mode","theme","fontSize","height","width","showPrintMargin","showGutter","highlightActiveLine","setOptions","enableBasicAutocompletion","enableLiveAutocompletion","enableSnippets","showLineNumbers","tabSize","style","display","event","preventDefault","clientId","clientSecret","script","language","versionIndex","stdin","peers","Video","ROOM_ID","socket","VideoContainer","console","log","process","PORT","secure","reconnection","rejectUnauthorized","reconnectionAttempts","peer","Peer","undefined","path","host","port","user","prompt","userID","close","removeVideo","err","navigator","mediaDevices","getUserMedia","video","audio","then","stream","createVideo","myID","call","answer","userVideoStream","metadata","userData","connectToNewUser","createObj","document","getElementById","srcObject","videoGrid","innerVideoDiv","createElement","myVideo","muted","addEventListener","play","appendChild","append","remove","setMuteButton","querySelector","innerHTML","setUnmuteButton","setStopVideo","setPlayVideo","getAudioTracks","enabled","getVideoTracks","App","exact","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.54983f9d.chunk.js","sourcesContent":["function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 106;","import React from \"react\";\r\nimport \"../css/Home.css\";\r\n\r\nfunction Home() {\r\n  const joinSession = () => {\r\n    window.location.href = \"/join\";\r\n  };\r\n  const createSession = () => {\r\n    window.location.href = \"/create\";\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <p className='join' onClick={joinSession}>\r\n        Join a session\r\n      </p>\r\n      <p className='create' onClick={createSession}>\r\n        Create new session\r\n      </p>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n","import React, { useState } from \"react\";\r\n\r\nfunction Join() {\r\n  const [id, setId] = useState(\"\");\r\n\r\n  const joinHandler = () => {\r\n    window.location.href = `/${id}`;\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <p>Join</p>\r\n      <div>\r\n        <label htmlFor='room_id'>Enter room id: </label>\r\n        <input\r\n          type='text'\r\n          className='room_id'\r\n          onChange={(e) => setId(e.target.value)}\r\n        ></input>\r\n        <button type='submit' onClick={joinHandler}>\r\n          Join\r\n        </button>\r\n      </div>\r\n      <p className='back' onClick={() => (window.location.href = \"/\")}>\r\n        Back\r\n      </p>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Join;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { v4 as uuidV4 } from \"uuid\";\r\n\r\nfunction Create() {\r\n  const [roomId, setRoomId] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    setRoomId(uuidV4());\r\n  }, []);\r\n\r\n  const joinHandler = () => {\r\n    window.location.href = `/${roomId}`;\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <p>Create</p>\r\n      <div>\r\n        <label>{roomId}</label>\r\n        <div>\r\n          <button>Share</button>\r\n          <button onClick={joinHandler}>Join</button>\r\n        </div>\r\n      </div>\r\n\r\n      <p className='back' onClick={() => (window.location.href = \"/\")}>\r\n        Back\r\n      </p>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Create;\r\n","import React, { useState, useRef, useEffect } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport io from \"socket.io-client\";\r\nimport AceEditor from \"react-ace\";\r\nimport \"ace-builds/src-noconflict/mode-csharp\";\r\nimport \"ace-builds/src-noconflict/theme-tomorrow\";\r\n\r\nfunction Editor() {\r\n  const { id: roomId } = useParams();\r\n  const [output, setOutput] = useState(\" \");\r\n  const [input, setInput] = useState(\"Hello\");\r\n  const [code, setCode] = useState(`#include <iostream>\r\nusing namespace std;\r\n\r\nint main() {\r\n  \r\n  string str;\r\n  cin>>str;\r\n  cout<<str;\r\n  \r\n  return 0;\r\n}`);\r\n\r\n  const socketRef = useRef();\r\n\r\n  useEffect(() => {\r\n    socketRef.current = io.connect(\"http://localhost:5000\");\r\n\r\n    socketRef.current.emit(\"join-room\", roomId);\r\n\r\n    socketRef.current.on(\"codeChanged1\", (code) => {\r\n      setCode(code);\r\n    });\r\n\r\n    socketRef.current.on(\"outputChanged1\", (value) => {\r\n      setOutput(value);\r\n    });\r\n\r\n    socketRef.current.on(\"inputChanged1\", (value) => {\r\n      setInput(value);\r\n    });\r\n\r\n    socketRef.current.on(\"recieve-output\", (body) => {\r\n      socketRef.current.emit(\"outputChanged\", body[\"output\"]);\r\n      setOutput(body[\"output\"]);\r\n    });\r\n\r\n    return () => socketRef.current.disconnect();\r\n  }, [code, output]);\r\n\r\n  const codeChanged = (code) => {\r\n    socketRef.current.emit(\"codeChanged\", code);\r\n    setCode(code);\r\n  };\r\n\r\n  const inputChanged = (event) => {\r\n    socketRef.current.emit(\"inputChanged\", event.target.value);\r\n    setInput(event.target.value);\r\n  };\r\n\r\n  const outputChanged = () => {};\r\n\r\n  const submitCode = (event) => {\r\n    event.preventDefault();\r\n    const body = {\r\n      clientId: \"e2e21cfc5d6236eb4a869c768c24e64f\",\r\n      clientSecret:\r\n        \"65189410b744a30068e3fdcc7ca083147bc103c2dc083309bb38dc157fb50c09\",\r\n      script: code,\r\n      language: \"cpp\",\r\n      versionIndex: \"3\",\r\n      stdin: input,\r\n    };\r\n    socketRef.current.emit(\"submit-code\", body);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      Editor\r\n      <div className='editor'>\r\n        <div className='code-editor'>\r\n          <AceEditor\r\n            mode='csharp'\r\n            theme='tomorrow'\r\n            fontSize={20}\r\n            height='300px'\r\n            width='500px'\r\n            value={code}\r\n            onChange={codeChanged}\r\n            showPrintMargin={true}\r\n            showGutter={true}\r\n            highlightActiveLine={true}\r\n            setOptions={{\r\n              enableBasicAutocompletion: false,\r\n              enableLiveAutocompletion: false,\r\n              enableSnippets: false,\r\n              showLineNumbers: true,\r\n              tabSize: 4,\r\n            }}\r\n          />\r\n        </div>\r\n        <div className='input-output-div'>\r\n          <div className='input-div' style={{ display: \"inline-block\" }}>\r\n            <p>Input</p>\r\n            <textarea\r\n              className='input'\r\n              style={{ height: \"100px\", width: \"200px\" }}\r\n              onChange={inputChanged}\r\n              value={input}\r\n            />\r\n          </div>\r\n          <div className='output-div' style={{ display: \"inline-block\" }}>\r\n            <p>Output</p>\r\n            <textarea\r\n              className='output'\r\n              style={{ height: \"100px\", width: \"200px\" }}\r\n              onChange={outputChanged}\r\n              value={output}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div>\r\n        <button type='submit' onClick={submitCode}>\r\n          Submit Code\r\n        </button>\r\n      </div>\r\n      <div>\r\n        <p className='back' onClick={() => (window.location.href = \"/\")}>\r\n          Back\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Editor;\r\n","import React, {useRef, useEffect} from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport io from \"socket.io-client\";\nimport Peer from \"peerjs\";\nimport \"../css/Video.css\";\n\n\n\nlet ip = '127.0.0.1:5000';\nlet peers = {};\nlet myVideoStream;\n\n\nfunction Video(){\n    const { id: ROOM_ID } = useParams();\n    let socket = useRef();\n    const VideoContainer = {};\n\n    console.log(socket);\n    console.log(ROOM_ID);\n\n    useEffect(() => {\n\n        //Initializing socket\n        socket.current = io.connect(process.env.PORT||ip, {\n            secure: true, \n            reconnection: true, \n            rejectUnauthorized: false,\n            reconnectionAttempts: 10\n            });\n        console.log(socket.current);\n\n        //Initialising Peer\n        var peer = new Peer(undefined, {\n            path: '/peerjs',\n            host: '/',\n            port: '443'\n        });\n\n        //Getting User Name\n        const user = prompt(\"Enter your name\");\n        console.log(user);\n\n        //Initialising Socket Events\n\n        socket.current.on('connect', () => {\n            console.log('socket connected');\n        });\n        socket.current.on('user-disconnected', (userID) => {\n\n            console.log('user disconnected-- closing peers', userID);\n            peers[userID] && peers[userID].close();\n            console.log('PEERS');\n            removeVideo(userID);\n        });\n        socket.current.on('disconnect', () => {\n            console.log('socket disconnected --');\n        });\n        socket.current.on('error', (err) => {\n            console.log('socket error --', err);\n        });\n\n\n        //Getting Permissions for Video adn Audio and Connecting \n        navigator.mediaDevices.getUserMedia({\n            video:true,\n            audio:true\n        }).then(stream => {\n            myVideoStream = stream;\n            createVideo({ id: socket.current.myID, stream });\n\n\n            peer.on('call' , call => {\n                call.answer(stream);\n                console.log(\"peers listener set\");\n                call.on('stream', (userVideoStream) => {\n                    console.log(\"call.metadata\",call.metadata.id);\n                    console.log('user Video Stream data',userVideoStream);\n                    createVideo({id:call.metadata.id,stream:userVideoStream });\n                })\n                call.on('close',() => {\n                    console.log('closing peers listeners',call.metadata.id);\n                    removeVideo(call.metadata.id);\n                })\n                call.on('error' , () => {\n                    console.log('error ....peers listener',call.metadata.id);\n                    removeVideo(call.metadata.id);\n                })\n                peers[call.metadata.id] = call;\n            });\n\n            socket.current.on('user-connected',userData => {\n                console.log(\"connecting new user\");\n                connectToNewUser(userData,stream);\n            })\n        })\n\n        peer.on('open' , id => {\n            socket.current.myID = id;\n            const userData = {\n                    userID : id, ROOM_ID\n             }\n             console.log(\"userData\",userData);\n            socket.current.emit('join-room',userData);\n        })\n\n        const connectToNewUser = (userData,stream) => {\n            const {userID,ROOM_ID} = userData;\n            const call = peer.call(userID,stream ,{metadata: { id:socket.current.myID }});\n            console.log(\"peer.call made for new user\");\n\n            call.on('stream' , (userVideoStream) => {\n                console.log(\"call.onstream for new user done\");\n                createVideo({ id:userData, stream:userVideoStream, userData });\n            })\n            call.on('close', () => {\n                console.log('closing new user', userData);\n                removeVideo(userID);\n            });\n            call.on('error', () => {\n                console.log('peer error ------')\n                removeVideo(userID);\n            })\n\n            peers[userID] = call;\n        }\n        \n        const createVideo = (createObj) => {\n\n            console.log(\"CREATE OBJECT\",createObj.id);\n\n            if(!VideoContainer[createObj.id]){\n                VideoContainer[createObj.id] = {\n                    ...createObj,\n                };\n                console.log(\"VC\",VideoContainer);\n\n                const videoGrid = document.getElementById('video-grid');\n                const innerVideoDiv = document.createElement('div');\n                const myVideo = document.createElement('video');\n\n                \n                   \n                \n\n                console.log(VideoContainer[createObj.id].stream)\n                myVideo.srcObject = VideoContainer[createObj.id].stream;\n                myVideo.id = createObj.id;\n                if(socket.current.myID === createObj.id)\n                {\n                    myVideo.muted = true;\n                }\n                console.log(user);\n                myVideo.addEventListener('loadedmetadata',() => {\n                    myVideo.play();\n                })\n\n                innerVideoDiv.appendChild(myVideo);\n                videoGrid.append(innerVideoDiv);\n\n            }\n            else {\n                 document.getElementById(createObj.id).srcObject = createObj.stream;\n             }\n        }\n\n        const removeVideo = (id) => {\n            console.log(\"ID\",id);\n            \n            delete VideoContainer[id];\n            console.log(\"inside remove video\");\n            const video = document.getElementById(id);\n            if(video) video.remove();\n        }  \n    })\n\n\n    const muteUnmute = () => {\n        const enabled = myVideoStream.getAudioTracks()[0].enabled;\n        if(enabled) {\n            myVideoStream.getAudioTracks()[0].enabled = false;\n            setUnmuteButton();\n        } else {\n            setMuteButton();\n            myVideoStream.getAudioTracks()[0].enabled = true;\n        }\n    }\n\n    const setMuteButton = () => {\n        const html = `<i className=\"fas fa-microphone\"></i>\n        <span>Mute<span>`\n\n        document.querySelector('.main__mute_button').innerHTML = html;\n    }\n\n    const setUnmuteButton = () => {\n        const html = `<i className=\"unmute fas fa-microphone-slash\"></i>\n        <span>Unmute<span>`\n\n        document.querySelector('.main__mute_button').innerHTML = html;\n    }\n\n\n    const playStop = () => {\n        let enabled = myVideoStream.getVideoTracks()[0].enabled;\n        if(enabled){\n            myVideoStream.getVideoTracks()[0].enabled = false;\n            setPlayVideo();\n        } else {\n            setStopVideo();\n            myVideoStream.getVideoTracks()[0].enabled = true;\n        }\n    }\n\n    const setStopVideo = () => {\n        const html = `<i className=\"fas fa-video\"></i>\n        <span>Stop Video</span>`\n\n        document.querySelector('.main__video_button').innerHTML = html;\n    }\n\n    const setPlayVideo = () => {\n        const html = `<i className=\"stop fas fa-video-slash\"></i>\n        <span>Turn On Video</span>`\n\n        document.querySelector('.main__video_button').innerHTML = html;\n    }\n\n    const invite = () => {\n        prompt(\n        \"Copy this link and send it to person you want to meet with\",\n        window.location.href\n        );\n    }\n\n\n\n    return(\n        \n        <div className = \"main\">\n            <div className = \"main__left\">\n                <div className = \"main__videos\">\n                    <div id=\"video-grid\">  \n                    </div>\n                </div>\n\n                <div className=\"main__controls\">\n                    <div className=\"main__controls__block\">\n                        <div onClick = {muteUnmute} className=\"main__controls__button main__mute_button\">\n                            <i className=\"fas fa-microphone\"></i>\n                            <span>Mute</span>\n                        </div>\n                        <div onClick = {playStop} className=\"main__controls__button main__video_button\">\n                            <i className=\"fas fa-video\"></i>\n                            <span>Stop Video</span>\n                        </div>\n                    </div>\n                    <div className=\"main__controls__block\">\n                        <div onClick = {invite} className=\"main__controls__button inviteButton\">\n                            <i className=\"fas fa-user-plus\"></i>\n                            <span> Invite</span>\n                        </div>\n                        <div className=\"main__controls__button\">\n                            <i className=\"fas fa-user-friends\"></i>\n                            <span>Participants</span>\n                        </div>\n                        <div className=\"main__controls__button\">\n                            <i className=\"fas fa-comment-alt\"></i>\n                            <span>Chat</span>\n                        </div>\n                    </div>\n                    <div className=\"main__controls__block\">\n                        <div className=\"main__controls__button\">\n                            <span className=\"leave_meeting\">Leave Meeting</span>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default Video;","import React from \"react\";\nimport \"./App.css\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport Home from \"./components/Home\";\nimport Join from \"./components/Join\";\nimport Create from \"./components/Create\";\nimport Editor from \"./components/Editor\";\nimport Video from \"./components/Video\";\n\nfunction App() {\n  return (\n    <div className='App'>\n      <h1>Hello</h1>\n      <Router>\n        <Switch>\n          <Route path='/' exact>\n            <Home />\n          </Route>\n          <Route path='/join' exact>\n            <Join />\n          </Route>\n          <Route path='/create' exact>\n            <Create />\n          </Route>\n          <Route path='/:id'>\n            <Video />\n            <Editor/>\n          </Route>\n        </Switch>\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}