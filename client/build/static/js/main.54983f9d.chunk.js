(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{106:function(e,n){function t(e){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}t.keys=function(){return[]},t.resolve=t,e.exports=t,t.id=106},107:function(e,n,t){},108:function(e,n,t){"use strict";t.r(n);var c=t(1),o=t.n(c),i=t(52),s=t.n(i),a=(t(61),t(62),t(23)),r=t(2),l=(t(63),t(0));var d=function(){return Object(l.jsxs)("div",{children:[Object(l.jsx)("p",{className:"join",onClick:function(){window.location.href="/join"},children:"Join a session"}),Object(l.jsx)("p",{className:"create",onClick:function(){window.location.href="/create"},children:"Create new session"})]})},u=t(13);var j=function(){var e=Object(c.useState)(""),n=Object(u.a)(e,2),t=n[0],o=n[1];return Object(l.jsxs)("div",{children:[Object(l.jsx)("p",{children:"Join"}),Object(l.jsxs)("div",{children:[Object(l.jsx)("label",{htmlFor:"room_id",children:"Enter room id: "}),Object(l.jsx)("input",{type:"text",className:"room_id",onChange:function(e){return o(e.target.value)}}),Object(l.jsx)("button",{type:"submit",onClick:function(){window.location.href="/".concat(t)},children:"Join"})]}),Object(l.jsx)("p",{className:"back",onClick:function(){return window.location.href="/"},children:"Back"})]})},b=t(110);var m=function(){var e=Object(c.useState)(""),n=Object(u.a)(e,2),t=n[0],o=n[1];return Object(c.useEffect)((function(){o(Object(b.a)())}),[]),Object(l.jsxs)("div",{children:[Object(l.jsx)("p",{children:"Create"}),Object(l.jsxs)("div",{children:[Object(l.jsx)("label",{children:t}),Object(l.jsxs)("div",{children:[Object(l.jsx)("button",{children:"Share"}),Object(l.jsx)("button",{onClick:function(){window.location.href="/".concat(t)},children:"Join"})]})]}),Object(l.jsx)("p",{className:"back",onClick:function(){return window.location.href="/"},children:"Back"})]})},h=t(24),O=t.n(h),f=t(53),p=t.n(f);t(102),t(103);var v,x=function(){var e=Object(r.f)().id,n=Object(c.useState)(" "),t=Object(u.a)(n,2),o=t[0],i=t[1],s=Object(c.useState)("Hello"),a=Object(u.a)(s,2),d=a[0],j=a[1],b=Object(c.useState)("#include <iostream>\nusing namespace std;\n\nint main() {\n  \n  string str;\n  cin>>str;\n  cout<<str;\n  \n  return 0;\n}"),m=Object(u.a)(b,2),h=m[0],f=m[1],v=Object(c.useRef)();return Object(c.useEffect)((function(){return v.current=O.a.connect("http://localhost:5000"),v.current.emit("join-room",e),v.current.on("codeChanged1",(function(e){f(e)})),v.current.on("outputChanged1",(function(e){i(e)})),v.current.on("inputChanged1",(function(e){j(e)})),v.current.on("recieve-output",(function(e){v.current.emit("outputChanged",e.output),i(e.output)})),function(){return v.current.disconnect()}}),[h,o]),Object(l.jsxs)("div",{children:["Editor",Object(l.jsxs)("div",{className:"editor",children:[Object(l.jsx)("div",{className:"code-editor",children:Object(l.jsx)(p.a,{mode:"csharp",theme:"tomorrow",fontSize:20,height:"300px",width:"500px",value:h,onChange:function(e){v.current.emit("codeChanged",e),f(e)},showPrintMargin:!0,showGutter:!0,highlightActiveLine:!0,setOptions:{enableBasicAutocompletion:!1,enableLiveAutocompletion:!1,enableSnippets:!1,showLineNumbers:!0,tabSize:4}})}),Object(l.jsxs)("div",{className:"input-output-div",children:[Object(l.jsxs)("div",{className:"input-div",style:{display:"inline-block"},children:[Object(l.jsx)("p",{children:"Input"}),Object(l.jsx)("textarea",{className:"input",style:{height:"100px",width:"200px"},onChange:function(e){v.current.emit("inputChanged",e.target.value),j(e.target.value)},value:d})]}),Object(l.jsxs)("div",{className:"output-div",style:{display:"inline-block"},children:[Object(l.jsx)("p",{children:"Output"}),Object(l.jsx)("textarea",{className:"output",style:{height:"100px",width:"200px"},onChange:function(){},value:o})]})]})]}),Object(l.jsx)("div",{children:Object(l.jsx)("button",{type:"submit",onClick:function(e){e.preventDefault();var n={clientId:"e2e21cfc5d6236eb4a869c768c24e64f",clientSecret:"65189410b744a30068e3fdcc7ca083147bc103c2dc083309bb38dc157fb50c09",script:h,language:"cpp",versionIndex:"3",stdin:d};v.current.emit("submit-code",n)},children:"Submit Code"})}),Object(l.jsx)("div",{children:Object(l.jsx)("p",{className:"back",onClick:function(){return window.location.href="/"},children:"Back"})})]})},_=t(56),g=t(55),N=t.n(g),C=(t(107),{});var w=function(){var e=Object(r.f)().id,n=Object(c.useRef)(),t={};console.log(n),console.log(e),Object(c.useEffect)((function(){n.current=O.a.connect(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).PORT||"127.0.0.1:5000",{secure:!0,reconnection:!0,rejectUnauthorized:!1,reconnectionAttempts:10}),console.log(n.current);var c=new N.a(void 0,{path:"/peerjs",host:"/",port:"443"}),o=prompt("Enter your name");console.log(o),n.current.on("connect",(function(){console.log("socket connected")})),n.current.on("user-disconnected",(function(e){console.log("user disconnected-- closing peers",e),C[e]&&C[e].close(),console.log("PEERS"),a(e)})),n.current.on("disconnect",(function(){console.log("socket disconnected --")})),n.current.on("error",(function(e){console.log("socket error --",e)})),navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then((function(e){v=e,s({id:n.current.myID,stream:e}),c.on("call",(function(n){n.answer(e),console.log("peers listener set"),n.on("stream",(function(e){console.log("call.metadata",n.metadata.id),console.log("user Video Stream data",e),s({id:n.metadata.id,stream:e})})),n.on("close",(function(){console.log("closing peers listeners",n.metadata.id),a(n.metadata.id)})),n.on("error",(function(){console.log("error ....peers listener",n.metadata.id),a(n.metadata.id)})),C[n.metadata.id]=n})),n.current.on("user-connected",(function(n){console.log("connecting new user"),i(n,e)}))})),c.on("open",(function(t){n.current.myID=t;var c={userID:t,ROOM_ID:e};console.log("userData",c),n.current.emit("join-room",c)}));var i=function(e,t){var o=e.userID,i=(e.ROOM_ID,c.call(o,t,{metadata:{id:n.current.myID}}));console.log("peer.call made for new user"),i.on("stream",(function(n){console.log("call.onstream for new user done"),s({id:e,stream:n,userData:e})})),i.on("close",(function(){console.log("closing new user",e),a(o)})),i.on("error",(function(){console.log("peer error ------"),a(o)})),C[o]=i},s=function(e){if(console.log("CREATE OBJECT",e.id),t[e.id])document.getElementById(e.id).srcObject=e.stream;else{t[e.id]=Object(_.a)({},e),console.log("VC",t);var c=document.getElementById("video-grid"),i=document.createElement("div"),s=document.createElement("video");console.log(t[e.id].stream),s.srcObject=t[e.id].stream,s.id=e.id,n.current.myID===e.id&&(s.muted=!0),console.log(o),s.addEventListener("loadedmetadata",(function(){s.play()})),i.appendChild(s),c.append(i)}},a=function(e){console.log("ID",e),delete t[e],console.log("inside remove video");var n=document.getElementById(e);n&&n.remove()}}));var o=function(){document.querySelector(".main__mute_button").innerHTML='<i className="fas fa-microphone"></i>\n        <span>Mute<span>'},i=function(){document.querySelector(".main__mute_button").innerHTML='<i className="unmute fas fa-microphone-slash"></i>\n        <span>Unmute<span>'},s=function(){document.querySelector(".main__video_button").innerHTML='<i className="fas fa-video"></i>\n        <span>Stop Video</span>'},a=function(){document.querySelector(".main__video_button").innerHTML='<i className="stop fas fa-video-slash"></i>\n        <span>Turn On Video</span>'};return Object(l.jsx)("div",{className:"main",children:Object(l.jsxs)("div",{className:"main__left",children:[Object(l.jsx)("div",{className:"main__videos",children:Object(l.jsx)("div",{id:"video-grid"})}),Object(l.jsxs)("div",{className:"main__controls",children:[Object(l.jsxs)("div",{className:"main__controls__block",children:[Object(l.jsxs)("div",{onClick:function(){v.getAudioTracks()[0].enabled?(v.getAudioTracks()[0].enabled=!1,i()):(o(),v.getAudioTracks()[0].enabled=!0)},className:"main__controls__button main__mute_button",children:[Object(l.jsx)("i",{className:"fas fa-microphone"}),Object(l.jsx)("span",{children:"Mute"})]}),Object(l.jsxs)("div",{onClick:function(){v.getVideoTracks()[0].enabled?(v.getVideoTracks()[0].enabled=!1,a()):(s(),v.getVideoTracks()[0].enabled=!0)},className:"main__controls__button main__video_button",children:[Object(l.jsx)("i",{className:"fas fa-video"}),Object(l.jsx)("span",{children:"Stop Video"})]})]}),Object(l.jsxs)("div",{className:"main__controls__block",children:[Object(l.jsxs)("div",{onClick:function(){prompt("Copy this link and send it to person you want to meet with",window.location.href)},className:"main__controls__button inviteButton",children:[Object(l.jsx)("i",{className:"fas fa-user-plus"}),Object(l.jsx)("span",{children:" Invite"})]}),Object(l.jsxs)("div",{className:"main__controls__button",children:[Object(l.jsx)("i",{className:"fas fa-user-friends"}),Object(l.jsx)("span",{children:"Participants"})]}),Object(l.jsxs)("div",{className:"main__controls__button",children:[Object(l.jsx)("i",{className:"fas fa-comment-alt"}),Object(l.jsx)("span",{children:"Chat"})]})]}),Object(l.jsx)("div",{className:"main__controls__block",children:Object(l.jsx)("div",{className:"main__controls__button",children:Object(l.jsx)("span",{className:"leave_meeting",children:"Leave Meeting"})})})]})]})})};var k=function(){return Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)("h1",{children:"Hello"}),Object(l.jsx)(a.a,{children:Object(l.jsxs)(r.c,{children:[Object(l.jsx)(r.a,{path:"/",exact:!0,children:Object(l.jsx)(d,{})}),Object(l.jsx)(r.a,{path:"/join",exact:!0,children:Object(l.jsx)(j,{})}),Object(l.jsx)(r.a,{path:"/create",exact:!0,children:Object(l.jsx)(m,{})}),Object(l.jsxs)(r.a,{path:"/:id",children:[Object(l.jsx)(w,{}),Object(l.jsx)(x,{})]})]})})]})},S=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,111)).then((function(n){var t=n.getCLS,c=n.getFID,o=n.getFCP,i=n.getLCP,s=n.getTTFB;t(e),c(e),o(e),i(e),s(e)}))};s.a.render(Object(l.jsx)(o.a.StrictMode,{children:Object(l.jsx)(k,{})}),document.getElementById("root")),S()},61:function(e,n,t){},62:function(e,n,t){},63:function(e,n,t){}},[[108,1,2]]]);
//# sourceMappingURL=main.54983f9d.chunk.js.map